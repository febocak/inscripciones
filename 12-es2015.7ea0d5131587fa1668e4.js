(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{vbEt:function(l,n,u){"use strict";u.r(n);var a=u("8Y7J"),t=u("VRyK");class o{constructor(l,n,u){this.location=l,this.sanitizer=n,this.crudService=u,this.emitExportar=new a.m,this.preparacionStatus=0,this.mensaje="El proceso de exportar los datos puede tardar varios minutos. Para iniciar pulse en el bot\xf3n preparar datos. Una vez finalizado el proceso pulse en el bot\xf3n exportar"}ngOnInit(){}goBack(){this.location.back()}exportarDatos(){this.aDownload.nativeElement.click(),this.emitExportar.emit("Exportar"),this.location.back()}generateDownloadJsonUri(){this.mensaje="P r e p a r a n d o . . .",this.preparacionStatus=1;let l="{",n=0,u=["categorias","clubes","distancias","competencias","consola","inscripciones","palistas","users"],a=[];u.forEach(l=>a.push(this.crudService.getAllRecords$(l))),Object(t.a)(...a).subscribe({next:a=>{l=l+'"'+u[n]+'":'+JSON.stringify(a),++n<u.length&&(l+=",")},complete:()=>{l+="}",this.downloadJsonHref=this.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(l)),this.mensaje="Preparaci\xf3n finalizada",this.preparacionStatus=2}})}}class s{}var c=u("pMnS"),e=u("SVse"),r=u("cUpR"),i=u("8OjO"),p=a.nb({encapsulation:2,styles:[],data:{}});function b(l){return a.Ib(0,[a.Eb(671088640,1,{aDownload:0}),(l()(),a.pb(1,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(l()(),a.pb(2,0,null,null,20,"div",[["class","col-sm-12 col-md-8 col-lg-6 mx-auto"]],null,null,null,null,null)),(l()(),a.pb(3,0,null,null,19,"div",[["class","card mt-3"]],null,null,null,null,null)),(l()(),a.pb(4,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),a.Gb(-1,null,[" Respaldar datos "])),(l()(),a.pb(6,0,null,null,16,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),a.pb(7,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),a.pb(8,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),a.pb(9,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),a.Gb(10,null,[" "," "])),(l()(),a.pb(11,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),a.pb(12,0,null,null,1,"button",[["class","btn btn-lg btn-block btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var a=!0;return"click"===n&&(a=!1!==l.component.generateDownloadJsonUri()&&a),a},null,null)),(l()(),a.Gb(-1,null,[" Procesar "])),(l()(),a.pb(14,0,null,null,2,"div",[["class","col-6"]],null,null,null,null,null)),(l()(),a.pb(15,0,null,null,1,"button",[["class","btn btn-lg btn-block btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var a=!0;return"click"===n&&(a=!1!==l.component.exportarDatos()&&a),a},null,null)),(l()(),a.Gb(-1,null,[" Exportar "])),(l()(),a.pb(17,0,null,null,3,"div",[["class","row mt-3"]],null,null,null,null,null)),(l()(),a.pb(18,0,null,null,2,"div",[["class","col-6 mx-auto"]],null,null,null,null,null)),(l()(),a.pb(19,0,null,null,1,"button",[["class","btn btn-block btn-secondary"]],null,[[null,"click"]],function(l,n,u){var a=!0;return"click"===n&&(a=!1!==l.component.goBack()&&a),a},null,null)),(l()(),a.Gb(-1,null,[" Cancelar "])),(l()(),a.pb(21,0,[[1,0],["aDownload",1]],null,1,"a",[["class","btn btn-clear d-none"],["download","FeBoCaK.json"],["title","Download JSON"]],[[8,"href",4]],null,null,null,null)),(l()(),a.Gb(-1,null,[" Link "]))],null,function(l,n){var u=n.component;l(n,10,0,u.mensaje),l(n,12,0,u.preparacionStatus>0),l(n,15,0,u.preparacionStatus<2),l(n,21,0,u.downloadJsonHref)})}function d(l){return a.Ib(0,[(l()(),a.pb(0,0,null,null,1,"app-backup",[],null,null,null,b,p)),a.ob(1,114688,null,0,o,[e.h,r.b,i.a],null,null)],function(l,n){l(n,1,0)},null)}var m=a.lb("app-backup",o,d,{competencia:"competencia"},{emitExportar:"emitExportar"},[]),h=u("iInd");u.d(n,"BackupModuleNgFactory",function(){return v});var v=a.mb(s,[],function(l){return a.yb([a.zb(512,a.j,a.X,[[8,[c.a,m]],[3,a.j],a.v]),a.zb(4608,e.n,e.m,[a.s,[2,e.x]]),a.zb(1073742336,e.c,e.c,[]),a.zb(1073742336,h.s,h.s,[[2,h.x],[2,h.o]]),a.zb(1073742336,s,s,[]),a.zb(1024,h.m,function(){return[[{path:"",component:o}]]},[])])})}}]);